(()=>{"use strict";const e=(e,t,r)=>{let o=t,l=!1;return{name:e,length:t,piece:r,getHits:()=>o,getIsSunk:()=>l,hit:()=>{o-=1,o<=0&&(l=!0)}}},t=(t,r)=>{const o=t;console.log(o);const l=(()=>{let t=!1,r=17;const o=[],l=[],n=(e,t,r,n=!0)=>{const{length:a,piece:c}=r;if(n){if(a+e>=10)return!1;for(let r=e;r<a+e;r+=1)if(o[t][r])return!1;for(let r=e;r<a+e;r+=1)o[t][r]=c;o[t][e+a-1]=c}else{if(a+t>=10)return!1;for(let r=t;r<t+a;r+=1)if(o[r][e])return!1;for(let r=t;r<t+a;r+=1)o[r][e]=c;o[t+a-1][e]=c}return l.push(r),!0};return{board:o,ships:l,startingPieces:[["carrier",5,"C"],["battleship",4,"B"],["destroyer",3,"D"],["submarine",3,"S"],["patrol boat",2,"P"]],createGameboard:()=>{for(let e=0;e<10;e+=1){const e=[];for(let t=0;t<10;t+=1)e.push(null);o.push(e)}},placePiece:n,receiveAttack:(e,n)=>{const a=o[e][n];if(a){const c=l.find((e=>e.piece===a));c&&(o[e][n]="X",c.hit(),r-=1,r<=0&&(t=!0,console.log("all Sunk")))}else o[e][n]="0"},populateBoard:t=>{const r=()=>Math.floor(10*Math.random());for(let o=0;o<t.length;o+=1){const l=t[o],a=e(l[0],l[1],l[2]);let c=!1;for(;!c;){const e=Math.random()>.5,t=r(),o=r();c=n(t,o,a,e)}}},getTotalHits:()=>r,getAllSunk:()=>t,allSunk:t}})();return l.createGameboard(),l.populateBoard(l.startingPieces),{playerBoard:l,turn:e=>{r?(e=>{const t=()=>Math.floor(10*Math.random());let r,o;do{r=t(),o=t()}while(null!==l.board[r][o]);console.log("hello"),e.receiveAttack(r,o)})(e):(e=>{let t,r;do{t=parseInt(prompt("Enter x coord:")),r=parseInt(prompt("Enter y coord:"))}while(null!==l.board[t][r]);console.log("goodbye"),e.receiveAttack(t,r)})(e)}}};(()=>{let e,r,o,l,n=0;return{startGame:()=>{o=t("human",!1),l=t("computer",!0),e=o,r=l},takeTurn:()=>{for(;n<100;)e.turn(r.playerBoard),e=e===o?l:o,r=r===l?o:l,n++},checkGameOver:()=>{const e=o.playerBoard.getAllsunk(),t=l.playerBoard.getAllsunk();e&&(n=!0),t&&(n=!0)}}})().startGame(),document.body.appendChild(document.createElement("div"))})();